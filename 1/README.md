Виртуальный деструктор — это деструктор, который освобождает память не только от объектов заданного класса, но и всех его производных классов.


Номер 1.
Shape Базовый класс. virtual double area() const: Это виртуальная функция. Производные классы могут переопределить её, чтобы обеспечить расчёт площади. Она имеет модификатор const. virtual ~Shape() {}Это виртуальный деструктор.
Circle Производный класс. Circle(double radius)Конструктор проверяет, не является ли радиус отрицательным. Если да, то он генерирует исключение std::invalid_argument. area() override: Переопределяет метод area() базового класса для вычисления площади круга с помощью M_PI * radius * radius. M_PI — это предопределённая константа для PI (π) в заголовке <cmath>. getRadius(): Возвращает значение радиуса.
Rectangle Производный класс. Rectangle(double width, double height)Конструктор проверяет, не являются ли ширина или высота отрицательными, и в этом случае генерирует исключение std::invalid_argument. area() override: Переопределяет метод area() базового класса для вычисления площади прямоугольника с помощью width * height. getWidth(), getHeight(): Возвращает значения ширины и высоты.

Номер 2.
Animal Базовый класс. virtual void speak() const: Виртуальная функция, которая выводит общее сообщение «Животное издаёт звук». virtual ~Animal() {}Виртуальный деструктор, необходимый для полиморфизма и правильного управления памятью при удалении объектов Animal через указатели базового класса.
Dog Производный класс. Dog(const std::string& name)Конструктор принимает на вход имя собаки. speak() override: Переопределяет метод speak() базового класса для вывода сообщения «Собака [имя] говорит: Гав!». getName(): Возвращает кличку собаки.
Cat Производный класс. Cat(const std::string& name)Как и в случае с Dog, конструктор принимает имя кошки и генерирует исключение, если имя пустое. peak() override: Переопределяет метод speak() базового класса для вывода сообщения «Кошка [имя] говорит: Мяу!». getName(): Возвращает имя кошки.

Номер  3.
Базовый класс BankAccount. virtual void withdraw(double amount): Эта виртуальная функция реализует базовую логику вывода средств. virtual ~BankAccount() {}: Виртуальный деструктор. accountNumber: Хранит номер счета. getBalance(), getAccountNumber(): Предоставить доступ к балансу и номеру счета.
Производный класс SavingsAccount. SavingsAccount(double initialBalance, const std::string& accountNumber, double interestRate): Конструктор инициализирует SavingsAccount с начальным балансом, номером счёта и процентной ставкой. Он вызывает конструктор базового класса BankAccount(initialBalance, accountNumber) для инициализации членов базового класса. applyInterest(): Эта функция добавляет проценты к балансу.
Производный класс CheckingAccount. CheckingAccount(double initialBalance, const std::string& accountNumber, double overdraftLimit): Конструктор принимает начальный баланс, номер счёта и лимит овердрафта. Он вызывает конструктор базового класса для инициализации элементов базового класса. void withdraw(double amount) override: Это переопределяет функцию базового класса.withdraw(). 

Номер 4.
Базовый класс FileHandler. std::ifstream file: Элемент file (поток ввода) теперь объявлен как protected, чтобы производные классы (TextFileHandler и BinaryFileHandler) могли напрямую обращаться к нему. Это необходимо для выполнения производными классами операций с файлами. FileHandler(const std::string& filename): Теперь конструктор корректно инициализирует filename Участник. virtual void open(): Функция open() пытается открыть файл. Если файл не может быть открыт (например, он не существует), она генерирует исключение std::runtime_error. Метод is_open() используется для проверки успешного открытия файла. virtual ~FileHandler(): Виртуальный деструктор теперь гарантирует, что файл будет закрыт, если он открыт. getFilename(): Возвращает имя файла. isOpen(): Возвращает, открыт ли файл. virtual std::string readLine() и virtual void readBytes(): эти функции объявлены виртуальными, но не реализованы в базовом классе.
Производный класс TextFileHandler. TextFileHandler(const std::string& filename): Вызывает конструктор базового класса. std::string readLine() override: Считывает строку из файла с помощью std::getline(). Если файл не открыт, генерируется исключение std::runtime_error. Если достигнут конец файла, возвращается пустая строка. 
Производный класс BinaryFileHandler. BinaryFileHandler(const std::string& filename): Вызывает конструктор базового класса. void readBytes(char* buffer, size_t size) override: Считывает size байты из файла в предоставленный буфер с помощью file.read(). Если файл не открыт, генерируется исключение std::runtime_error. 

Номер 5.
Базовый класс Shape. virtual void draw() const: Эта виртуальная функция предназначена для переопределения производными классами для обеспечения определённого поведения при отрисовке.
Производный класс Triangle. riangle(double base, double height) : base(base), height(height): Конструктор принимает на вход основание и высоту. void draw() const override: Эта функция переопределяет базовый класс draw() метод. getBase(), getHeight(): Предоставляет доступ к атрибутам треугольника.
Производный класс Square. Square(double side) : side(side): Как и в случае с Triangle, конструктор принимает на вход длину стороны и проверяет, что она положительная. void draw() const override: Эта функция переопределяет базовый класс draw() методом печати сообщения о рисовании квадрата. Она также const. getSide(): Обеспечивает доступ к длине стороны квадрата.

Номер 6.
Базовый класс Person. Person(const std::string& name, int age): Конструктор принимает имя и возраст. virtual void display() const: Эта виртуальная функция выводит имя и возраст человека. Она объявлена const потому, что не изменяет состояние объекта. virtual ~Person() {}: Виртуальный деструктор, важный для правильного управления памятью. protected std::string name;, protected int age;: Члены name и age теперь защищены, так что производные классы могут обращаться к ним напрямую, без использования методов доступа, но они недоступны напрямую из-за пределов иерархии классов.getName(), getAge(): Добавлены функции доступа для получения имени и возраста человека.
Производный класс Student. Student(const std::string& name, int age, const std::string& studentId): Конструктор принимает имя, возраст и идентификатор учащегося. void display() const override: Переопределяет метод базового класса display(). getStudentId(): Возвращает студенческий билет.
Производный класс Teacher. Teacher(const std::string& name, int age, const std::string& subject): Подобно Student, конструктор принимает имя, возраст и тему, вызывает конструктор базового класса и проверяет тему. getSubject(): Возвращает учебный предмет.

Номер 7.
Базовый класс Calculator. virtual double calculate(double a, double b) const: Это виртуальная функция для выполнения вычисления. Реализация базового класса возвращает 0,0, что обычно является разумным значением по умолчанию. Функция является const, потому что вычисление не изменяет состояние Calculator самого объекта. virtual ~Calculator() {}: Виртуальный деструктор, важный для полиморфизма.
Производный класс Addition. double calculate(double a, double b) const override: Переопределяет метод базового класса calculate() для выполнения сложения.
Производный класс Division. double calculate(double a, double b) const override: Переопределяет метод базового класса calculate() для выполнения разделения.

Номер 8.
Базовый класс Game. Game(const std::string& name): Конструктор берет название игры. virtual void start(): Функция start() сначала проверяет, инициализирована ли игра. Если нет, она вызывает функцию canStart() для проверки необходимых условий. Если canStart() возвращает false, она генерирует исключение std::runtime_error. В противном случае она выводит сообщение о том, что игра запускается, и устанавливает isInitialized в true. virtual bool canStart() const: Функция canStart() — это виртуальная функция, которая проверяет, можно ли запустить игру. Реализация базового класса всегда возвращает true, указывая на то, что игру всегда можно запустить (если не переопределено). virtual ~Game() {}: Виртуальный деструктор. getName(): Возвращает название игры. getIsInitialized(): Возвращает true, если игра была инициализирована и запущена.
Производный класс Chess. Chess(const std::string& name): Вызывает конструктор базового класса. setBoard(bool hasBoard), setPieces(bool hasPieces): Эти функции используются для установки условий начала шахматной партии. bool canStart() const override: Переопределяет метод базового класса canStart() . Проверяет, можно ли запустить оба метода hasBoard и hasPieces true. void start() override: Переопределяет метод базового класса start() . Сначала он проверяет canStart(), и если это не так, то генерирует исключение, указывающее на то, что игра не может быть запущена. Если все проверки пройдены, он вызывает Game::start() для выполнения базовой настройки, а затем выводит сообщение о начале шахматной партии.
Производный класс Tennis. Tennis(const std::string& name): Вызывает конструктор базового класса. setRackets(bool hasRackets), setBall(bool hasBall): Эти функции задают условия для начала теннисной игры. bool canStart() const override: Переопределяет метод базового класса canStart() . Проверяет, есть ли у игрока hasRackets и hasBall true . Теннисная игра может быть начата только при наличии ракеток и мяча.

Номер 9.
Базовый класс Document. Document(const std::string& filename): Конструктор принимает имя файла и инициализирует filename Участник. virtual void save() const: Виртуальная save() функция в базовом классе. Она предоставляет реализацию по умолчанию, которая выводит сообщение о том, что документ сохраняется. Если она const не изменяет состояние Document. virtual ~Document() {}: Виртуальный деструктор. getFilename(): Возвращает имя файла.
Производный класс PDFDocument. PDFDocument(const std::string& filename, const std::string& content): Конструктор принимает имя файла и содержимое PDF-документа. Содержимое сохраняется в std::string. void save() const override: Эта функция переопределяет метод базового класса save() для сохранения документа PDF. Она открывает поток файлов в двоичном режиме (std::ios::binary), записывает заголовок PDF (%PDF-1.5\n), записывает содержимое PDF, а затем закрывает файл. Если файл не удаётся открыть или закрыть, возникает исключение std::runtime_error. Для файлов PDF часто требуется открытие в двоичном режиме. Проверка outfile.fail() после закрытия файла очень важна.
Производный класс WordDocument. WordDocument(const std::string& filename, const std::string& text): Конструктор принимает имя файла и текст документа Word. void save() const override: Эта функция переопределяет метод базового класса save() для сохранения документа Word. Она открывает файловый поток, записывает начальный тег для документа Word (<worddocument>\n), записывает текст документа, записывает конечный тег для документа Word (</worddocument>\n), а затем закрывает файл. Если файл не удаётся открыть или закрыть, возникает исключение std::runtime_error.

Номер 10.
Базовый класс Matrix. Matrix(int rows, int cols)Конструктор принимает количество строк и столбцов и проверяет, что они положительные. virtual double getElement(int row, int col) const: Это виртуальная функция для доступа к элементам матрицы. Она проверяет, что индексы строк и столбцов находятся в допустимом диапазоне. Если они находятся за пределами диапазона, она генерирует std::out_of_range исключение. const Это означает, что получение элемента не изменяет Matrix сам объект. virtual ~Matrix() {}: Виртуальный деструктор. getRows(), getCols(): Предоставить доступ к строкам и столбцам.
Производный класс IntMatrix. IntMatrix(int rows, int cols): Конструктор инициализирует data элемент (двумерный вектор целых чисел) с заданным количеством строк и столбцов. double getElement(int row, int col) const override: Переопределяет метод базового класса getElement() для доступа к элементам целочисленной матрицы. void setElement(int row, int col, int value): Эта функция устанавливает значение элемента в матрице. Она также выполняет проверку границ перед установкой элемента.
Производный класс FloatMatrix. FloatMatrix(int rows, int cols): Конструктор похож на IntMatrix конструктор, но он инициализирует двумерный вектор с плавающей запятой. double getElement(int row, int col) const override: Переопределяет метод базового класса getElement() для доступа к элементам матрицы с плавающей запятой. void setElement(int row, int col, double value): Эта функция устанавливает значение элемента в матрице. Она также выполняет проверку границ перед установкой элемента. 